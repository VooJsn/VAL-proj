<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Happy Valentine's Mai ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            /* Prevent body from cutting off on iOS */
            min-height: -webkit-fill-available;
            background: #ffdde1;  /* Light pink background */
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        html {
            height: -webkit-fill-available;
        }

        .ios-screen {
            width: 390px;
            min-height: 100vh;
            background: #ECD3FF;
            position: relative;
            margin: 0 auto;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .content {
            flex: 1;
            position: relative;
            padding: 60px 0 250px 0;  /* Increased bottom padding for tulips */
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;  /* Center children horizontally */
        }

        .message {
            font-family: 'Great Vibes', cursive;
            font-size: 52px;
            color: #4A3B52;
            margin: 30px 0;
            text-align: center;
            width: 100%;
            padding: 0 20px;
            box-sizing: border-box;
            font-weight: 400;
            text-shadow: 1px 1px 2px rgba(74, 59, 82, 0.1);
            line-height: 1.3;
        }

        /* Center button container */
        .button-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .heart-button {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: #9370DB;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(147,112,219,0.15);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(5px);
        }

        .heart-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,149,0.2);
            background: #fff5f7;  /* Slightly pink on hover */
        }

        .heart-button:active {
            transform: translateY(0px);
        }

        .sticker {
            width: 80px;
            position: absolute;
            animation: spin 4s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Style for the popup letter */
        .letter-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            max-width: 330px;  /* Adjusted for iPhone 14 width */
            background: #f9e7c3;  /* Keep cream background */
            border: none;
            border-radius: 3px;  /* Sharper corners like paper */
            padding: 25px 20px;
            box-shadow: 
                0 0 30px rgba(0,0,0,0.2),
                0 0 0 1px rgba(0,0,0,0.05);  /* Paper-like edge */
            z-index: 1000;
            font-family: 'Cormorant Garamond', serif;
            color: #4a3525;
            background-image: 
                linear-gradient(45deg, #fff9f9, #fff),
                repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(0,0,0,0.02) 20px, rgba(0,0,0,0.02) 21px);  /* Paper texture */
        }

        .letter-content {
            margin: 15px 0;
            line-height: 1.6;
            font-size: 15px;
            position: relative;
            padding: 10px;
            background: rgba(255,255,255,0.6);
        }

        .letter-signature {
            margin-top: 20px;
            font-style: italic;
            text-align: right;
            font-size: 16px;
            color: #333;
        }

        .close-letter {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: #ccc;
            transition: color 0.3s ease;
        }

        .close-letter:hover {
            color: #999;
        }

        /* Paper fold effect */
        .letter-popup::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
        }

        /* Animation for opening */
        .letter-popup.show {
            display: block;
            animation: unfold 0.5s ease-out;
        }

        @keyframes unfold {
            0% {
                transform: translate(-50%, -50%) scale(0.95);
                opacity: 0;
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;  /* Full viewport width */
            height: 100vh; /* Full viewport height */
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 999;
            backdrop-filter: blur(3px);  /* Optional: adds slight blur */
        }

        /* Make sure iOS screen doesn't scroll when popup is open */
        .ios-screen {
            position: relative;
            overflow: hidden;
            height: 100vh;
        }

        /* Rotate top right image */
        .photo-grid img:nth-child(2) {
            transform: rotate(-90deg);
        }

        /* Keep existing grid and photo styles */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(2, 140px);
            grid-gap: 20px 40px;
            margin: 80px auto 0;  /* Removed bottom margin */
            padding: 0;
            width: fit-content;
            position: relative;
            left: 38%;
            transform: translateX(-50%);
            z-index: 3;
        }

        .mai-photo {
            width: 140px;
            height: 140px;
            border-radius: 15px;
            position: relative;
            padding: 8px;
            background: white;
            border: 2px solid rgba(147,112,219,0.3);
            box-shadow: 0 4px 15px rgba(147,112,219,0.1);
        }

        /* Update tulip decoration size and opacity */
        .tulip-decoration {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background-image: url('pngegg.png');
            background-size: contain;
            background-position: bottom center;
            background-repeat: no-repeat;
            opacity: 0.5;
            pointer-events: none;
            z-index: 1;
        }

        /* Ensure status bar doesn't interfere with scrolling */
        .status-bar {
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(236, 211, 255, 0.8);
            backdrop-filter: blur(10px);
        }

        /* Ensure proper viewport height on mobile */
        @supports (-webkit-touch-callout: none) {
            .ios-screen {
                min-height: -webkit-fill-available;
            }
        }
    </style>
    
</head>
<body>
    <div class="ios-screen">
        <div class="status-bar">
            <!-- status bar content -->
        </div>
        <div class="content">
            <h1 class="message">Happy Valentine's, Mai!</h1>
            <div class="button-container">
                <button class="heart-button" onclick="revealMessage()">
                    <span>For Mai Love</span> üíå
                </button>
            </div>
            
            <div class="photo-grid">
                <img src="IMG_0188.JPG" class="mai-photo" id="photo1">
                <img src="IMG_1300.JPG" class="mai-photo" id="photo2">
                <img src="IMG_1562.JPG" class="mai-photo">
                <img src="IMG_E1631.JPG" class="mai-photo">
            </div>
        </div>

        <!-- Add these elements for the popup -->
        <div class="overlay"></div>
        <div class="letter-popup">
            <span class="close-letter">√ó</span>
            <div class="letter-content">
                Dear Mai,
                
                Roses are red,
                Violets are blue,
                With each passing day,
                I feel closer to you.

                Through rain or shine,
                Frowns or smiles,
                Each day with you
                Makes it worth while.

                I'll never take it for granted
                That you are mine.
                So today I ask,
                Will you be my Valentine?
            </div>
            <div class="letter-signature">
                Only Yours,
                Anh
            </div>
        </div>

        <!-- Add these just before closing the ios-screen div, but after the letter-popup div -->
        <div class="tulip-decoration"></div>
    </div>

    <script>
        function revealMessage() {
            const overlay = document.querySelector('.overlay');
            const popup = document.querySelector('.letter-popup');
            document.body.style.overflow = 'hidden';  // Prevent background scrolling
            overlay.style.display = 'block';
            popup.classList.add('show');
        }

        function closeMessage() {
            const overlay = document.querySelector('.overlay');
            const popup = document.querySelector('.letter-popup');
            document.body.style.overflow = 'auto';   // Restore scrolling
            overlay.style.display = 'none';
            popup.classList.remove('show');
        }

        // Update close handlers
        document.querySelector('.close-letter').onclick = closeMessage;
        document.querySelector('.overlay').onclick = closeMessage;
    </script>
</body>
</html>
